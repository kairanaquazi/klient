package testclient.mods;

import org.lwjgl.input.Keyboard;
import org.lwjgl.opengl.GL11;

import net.minecraft.client.renderer.Tessellator;
import net.minecraft.client.renderer.entity.RenderManager;
import net.minecraft.entity.Entity;
import net.minecraft.entity.EntityLiving;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.util.math.AxisAlignedBB;
import testclient.main.Catagory;

public class Tracers extends Module
{
 
        public Tracers() {
                super("Tracers", Keyboard.KEY_O, Catagory.RENDERER);
                // TODO Auto-generated constructor stub
        }
       
        @Override
        public void onRender()
        {
                if(isToggled())
                {
                        TracerLine();
                }
        }
        public void TracerLine() {
            try {
                GL11.glBlendFunc(770, 771);
          GL11.glLineWidth(3.0F);
          GL11.glDisable(2929 /*GL_DEPTH_TEST*/);
          GL11.glDepthMask(false);
     
                double size = 0.45;
                double ytSize = 0.35;
                GL11.glBegin(GL11.GL_LINES);
                GL11.glColor3f(0, 5, 0);
                for(int x = 0; x < mc.world.loadedEntityList.size(); x ++) {
                    Entity entity = (Entity) mc.world.loadedEntityList.get(x);
                    double X = entity.posX;
                    double Y = entity.posY;
                    double Z = entity.posZ;
                    double mX = mc.player.posX;
                    double mY = mc.player.posY;
                    double mZ = mc.player.posZ;
                    double dX = (mX - X);
                    double dY = (mY - Y);
                    double dZ = (mZ - Z);
     
                    if(X != mX && Y != mY && Z != mZ) {        
                        GL11.glVertex3d(0, 0, 0);
                        GL11.glVertex3d((-dX + size) - 0.5, (ytSize - dY) + 1.0, (-dZ - size) + 0.5);
                    }
                }
     
                GL11.glEnd();    
          GL11.glDepthMask(true);
          GL11.glEnable(2929 /*GL_DEPTH_TEST*/);
            } catch (Exception e) {System.out.println(e.getMessage())}
        }
       
}